(this["webpackJsonpreact-restaurant-app"]=this["webpackJsonpreact-restaurant-app"]||[]).push([[0],{17:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),i=r(10),c=r.n(i),s=(r(17),r(7)),o=r(3),u=r(4),d=r(2),m=r(6),l=r(5),h=r(11),j=r.n(h),b=(r(9),r(0)),O=function(e){Object(m.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=this.props.item;return Object(b.jsxs)("li",{className:"order",children:[Object(b.jsx)("h2",{className:"itemname",children:t.name}),Object(b.jsx)("p",{className:"itemdesc",children:t.description}),Object(b.jsxs)("p",{className:"itemprice",children:["$",t.price]}),Object(b.jsx)("button",{onClick:function(){return e.props.addItemToOrder(t)},children:"Add to order"})]},t.name)}}]),r}(n.Component),p=function(e){Object(m.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=this.props.items.map((function(e){return e.category})),r=Object(s.a)(new Set(t)).map((function(t,r){var n=e.props.items.filter((function(e){return e.category===t})).map((function(t,r){return Object(b.jsx)(O,{item:t,addItemToOrder:e.props.addItemToOrder},t.name)}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:"category",children:t}),Object(b.jsx)("ul",{children:n})]})}));return Object(b.jsx)(b.Fragment,{children:r})}}]),r}(n.Component),f=r(12),v=function(e){Object(m.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).state={orders:[],customer:""},n.handleInput=n.handleInput.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(u.a)(r,[{key:"handleInput",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.submitOrder(this.state.items),this.setState({items:""})}},{key:"render",value:function(){var e=this,t=this.props.order.map((function(t,r){return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{children:t.name}),Object(b.jsxs)("p",{children:["$",t.price]}),Object(b.jsx)("button",{onClick:function(){return e.props.removeItemFromOrder(t.name)},children:"Remove"})]})})),r=this.props.order.reduce((function(e,t){return e+t.price}),0);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Order"}),Object(b.jsx)("ul",{children:t}),Object(b.jsxs)("p",{children:["Subtotal: $",r]}),Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(b.jsx)("input",{type:"text",name:"customer",value:this.state.customer,onChange:this.handleInput}),Object(b.jsx)("button",{type:"submit",children:"Submit Order"})]})]})}}]),r}(a.a.Component),x=[{name:"All",value:"All"},{name:"Pizza",value:"Pizza"},{name:"Salad",value:"Salad"},{name:"Sides",value:"Sides"},{name:"Drinks",value:"Drinks"}],I=function(e){Object(m.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).handleClick=function(e){var t=[];t="All"===e?n.state.items:n.state.items.filter((function(t){return t.category===e})),n.setState({filterItems:t})},n.state={items:[],order:[],filterItems:[]},n.addItemToOrder=n.addItemToOrder.bind(Object(d.a)(n)),n.removeItemFromOrder=n.removeItemFromOrder.bind(Object(d.a)(n)),n.submitOrder=n.submitOrder.bind(Object(d.a)(n)),n}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/menu/").then((function(e){return e.json()})).then((function(t){return e.setState({items:t})}))}},{key:"addItemToOrder",value:function(e){var t=Object(s.a)(this.state.order);t.push(e),this.setState({order:t})}},{key:"removeItemFromOrder",value:function(e){var t=Object(s.a)(this.state.order),r=t.findIndex((function(t){return t.name===e}));t.splice(r,1),this.setState({order:t})}},{key:"submitOrder",value:function(e){var t=this.state.order.reduce((function(e,t){return e+t.price}),0),r={customer:e,items:this.state.order,subtotal:t},n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":j.a.get("csrftoken")},body:JSON.stringify(r)};fetch("/api/v1/order/",n).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[x.map((function(t){var r=t.name,n=t.value;return Object(b.jsx)("button",{value:n,onClick:e.handleClick.bind(e,r),children:r},r)})),Object(b.jsx)("h1",{children:"Vic's Pizza"}),Object(b.jsx)(p,{items:this.state.items,addItemToOrder:this.addItemToOrder}),Object(b.jsx)(v,{order:this.state.order,removeItemFromOrder:this.removeItemFromOrder,submitOrder:this.submitOrder,className:"order"})]})}}]),r}(n.Component),S=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,20)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),i(e),c(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root")),S()},9:function(e,t,r){}},[[19,1,2]]]);
//# sourceMappingURL=main.f913f6e4.chunk.js.map