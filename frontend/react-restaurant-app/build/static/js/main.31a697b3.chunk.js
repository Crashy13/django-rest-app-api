(this["webpackJsonpreact-restaurant-app"]=this["webpackJsonpreact-restaurant-app"]||[]).push([[0],{17:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),i=r(10),s=r.n(i),a=(r(17),r(7)),o=r(3),u=r(4),d=r(2),h=r(6),j=r(5),l=r(11),b=r.n(l),m=(r(9),r(0)),O=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=this.props.item;return Object(m.jsxs)("li",{className:"order",children:[Object(m.jsx)("h2",{className:"itemname",children:t.name}),Object(m.jsx)("p",{className:"itemdesc",children:t.description}),Object(m.jsxs)("p",{className:"itemprice",children:["$",t.price]}),Object(m.jsx)("button",{onClick:function(){return e.props.addItemToOrder(t)},children:"Add to order"})]},t.name)}}]),r}(n.Component),p=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=this.props.items.map((function(e){return e.category})),r=Object(a.a)(new Set(t)).map((function(t,r){var n=e.props.items.filter((function(e){return e.category===t})).map((function(t,r){return Object(m.jsx)(O,{item:t,addItemToOrder:e.props.addItemToOrder},t.id)}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{className:"category",children:t}),Object(m.jsx)("ul",{children:n})]})}));return Object(m.jsx)(m.Fragment,{children:r})}}]),r}(n.Component),f=r(12),v=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).state={customer:""},n.handleInput=n.handleInput.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(u.a)(r,[{key:"handleInput",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.submitOrder(this.state.customer),this.setState({customer:""})}},{key:"render",value:function(){var e=this,t=this.props.order.map((function(t,r){return Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:t.name}),Object(m.jsxs)("p",{children:["$",t.price]}),Object(m.jsx)("button",{onClick:function(){return e.props.removeItemFromOrder(t.name)},children:"Remove"})]})})),r=this.props.order.reduce((function(e,t){return e+t.price}),0);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{children:"Order"}),Object(m.jsx)("ul",{children:t}),Object(m.jsxs)("p",{children:["Subtotal: $",r]}),Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("input",{type:"text",placeholder:"Please enter your name",name:"customer",value:this.state.customer,onChange:this.handleInput}),Object(m.jsx)("button",{type:"submit",children:"Submit Order"})]})]})}}]),r}(c.a.Component),x=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).state={orders:[]},n.handleClick=n.handleClick.bind(Object(d.a)(n)),n}return Object(u.a)(r,[{key:"handleClick",value:function(e){var t=this;fetch("/api/v1/order/").then((function(e){return e.json()})).then((function(e){return t.setState({orders:e})}))}},{key:"render",value:function(){var e=this.state.orders.map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:e.id}),Object(m.jsx)("p",{children:e.customer}),Object(m.jsx)("p",{children:JSON.stringify(e.items)}),Object(m.jsxs)("p",{children:["$",e.subtotal]}),Object(m.jsx)("p",{children:e.isComplete})]},e.id)}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:this.handleClick,children:"VIEW ORDERS"}),e]})}}]),r}(c.a.Component),k=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).state={items:[],order:[],filterItems:[]},n.addItemToOrder=n.addItemToOrder.bind(Object(d.a)(n)),n.removeItemFromOrder=n.removeItemFromOrder.bind(Object(d.a)(n)),n.submitOrder=n.submitOrder.bind(Object(d.a)(n)),n.handleClick=n.handleClick.bind(Object(d.a)(n)),n}return Object(u.a)(r,[{key:"componentDidMount",value:function(e){var t=this;fetch("/api/v1/menu/").then((function(e){return e.json()})).then((function(e){return t.setState({items:e})}))}},{key:"handleClick",value:function(e){var t=this;fetch("/api/v1/menu/").then((function(e){return e.json()})).then((function(e){return t.setState({items:e})}))}},{key:"addItemToOrder",value:function(e){var t=Object(a.a)(this.state.order);t.push(e),this.setState({order:t})}},{key:"removeItemFromOrder",value:function(e){var t=Object(a.a)(this.state.order),r=t.findIndex((function(t){return t.name===e}));t.splice(r,1),this.setState({order:t})}},{key:"submitOrder",value:function(e){var t=this.state.order.reduce((function(e,t){return e+t.price}),0),r={customer:e,items:this.state.order,subtotal:t},n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":b.a.get("csrftoken")},body:JSON.stringify(r)};fetch("/api/v1/order/",n).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:this.handleClick,children:"MENU"}),Object(m.jsx)(x,{orders:this.state.orders}),Object(m.jsx)("h1",{children:"Vic's Pizza"}),Object(m.jsx)(p,{items:this.state.items,addItemToOrder:this.addItemToOrder}),Object(m.jsx)(v,{order:this.state.order,removeItemFromOrder:this.removeItemFromOrder,submitOrder:this.submitOrder,className:"order"})]})}}]),r}(n.Component),y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,20)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),i(e),s(e)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root")),y()},9:function(e,t,r){}},[[19,1,2]]]);
//# sourceMappingURL=main.31a697b3.chunk.js.map